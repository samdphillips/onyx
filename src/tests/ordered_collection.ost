
Tester new
    setup: [ OrderedCollection new ];

    add: 'OrderedCollection>>add:'
    test: [:oc | oc add: 1. (oc at: 0) = 1];

    add: 'OrderedCollection>>size'
    test: [:oc | oc add: 1. oc size = 1];

    add: 'OrderedCollection>>size = 0'
    test: [:oc | oc size = 0];

    add: 'OrderedCollection>>addAll:'
    test: [:oc || i result |
        result := true.
        int := 1 to: 10.
        oc addAll: int.
        int do: [:i | result := result and: [ (oc at: i - 1) = i ] ].
        result
    ];

    add: 'OrderedCollection>>first'
    test: [:oc |
        oc addAll: (1 to: 10).
        oc first = 1
    ];

    add: 'OrderedCollection>>last'
    test: [:oc |
        oc addAll: (1 to: 10).
        oc last = 10
    ];

    add: 'OrderedCollection>>remove: begin'
    test: [:oc |
        oc addAll: (1 to: 10).
        oc remove: 1.
        (oc includes: 1) not
    ];

    add: 'OrderedCollection>>remove: middle'
    test: [:oc |
        oc addAll: (1 to: 10).
        oc remove: 5.
        (oc includes: 5) not
    ];

    add: 'OrderedCollection>>remove: end'
    test: [:oc |
        oc addAll: (1 to: 10).
        oc remove: 10.
        (oc includes: 10) not
    ];

    add: 'OrderedCollection>>keysAndValuesDo:'
    test: [:oc || success |
        success := true.
        oc addAll: (0 to: 9).
        oc keysAndValuesDo: [:i :v | success := success and: [i = v] ].
        success
    ];

    add: 'OrderedCollection>>from:to:do:'
    test: [:oc || sum |
        oc addAll: (0 to: 9).
        sum := 0.
        oc from: 0 to: 9 do: [:i | sum := sum + i ].
        sum = 45
    ];

    run;
    report
